spring:
  application:
    name: streaming-seeder
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      timeout: PT2S

server:
  port: ${SERVER_PORT:8084}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized

streaming:
  seeder:
    enabled: ${SEEDER_ENABLED:true}
    cache-path: ${SEEDER_CACHE_PATH:./cache}
    redis-ttl-segment-keys: PT90S
    cache-maintenance-interval: PT30S
    seeder-cache-window: PT4M
    origin:
      enabled: ${SEEDER_ORIGIN_ENABLED:true}
      bucket: ${SEEDER_ORIGIN_BUCKET:}
      object-prefix: ${SEEDER_ORIGIN_PREFIX:movies}
      segment-extensions:
        - ts
        - m4s

logging:
  level:
    root: INFO
    '[com.pbl6.cinemate.streaming.seeder]': DEBUG

minio:
  endpoint: ${MINIO_ENDPOINT:http://minio:9000}
  access-key: ${MINIO_ACCESS_KEY:minioadmin}
  secret-key: ${MINIO_SECRET_KEY:minioadmin}
  bucket: ${MINIO_BUCKET:movies}
